<div *ngIf="cargando" class="container mt-5" style="height: 80%">
    <div class="d-flex justify-content-center align-items-center" style="height: 100%">
        <div class="spinner-grow text-success" role="status" style="width: 3rem; height: 3rem;">
            <span class="sr-only">Loading...</span>
        </div>
    </div>
</div>

<div *ngIf="!cargando" class="container mt-3">
    <hr>
    <div class="row">
        <div class="col-md-2">
            <img src="assets/img/user.jpg" alt="">
        </div>
        <div class="col-md-10">
            <h3> {{usuario.nombre_usuario | titlecase}} </h3>
        </div>
    </div>
    <hr>
    <form [formGroup]="actualizarUsuarioForm" (ngSubmit)="actualizarUsuario()">
        <div class="form-group row">
            <label class="col-sm-2 col-form-label"> <p class="text-sm"> Nombre completo </p>  </label>
            <div class="col-sm-10">
                <input type="text" class="form-control" formControlName="nombre_usuario" [class.is_invalid]="nombreUsuarioNoValido">
                <small *ngIf="nombreUsuarioNoValido" class="text-danger animated fadeIn">El nombre es obligatorio, debe contener mínimo 5 caracteres.</small>
            </div>
        </div>

        <div class="form-group row">
            <label class="col-sm-2 col-form-label"> <p class="text-sm"> Cargo empresa </p>  </label>
            <div class="col-sm-10">
                <input type="text" class="form-control" readonly value="{{usuario.cargo_empresa}}">
            </div>
        </div>

        <div class="form-group row">
            <label class="col-sm-2 col-form-label"> <p class="text-sm">Contraseña anterior </p>  </label>
            <div class="col-sm-10">
                <input type="password" class="form-control" formControlName="contrasena_anterior">
                <small *ngIf="contrasenaUsuarioNoValido" class="text-danger animated fadeIn">La contraseña es obligatoria. </small>
            </div>
        </div>

        <div class="form-group row">
            <label class="col-sm-2 col-form-label"> <p class="text-sm"> Contraseña nueva </p>  </label>
            <div class="col-sm-10">
                <input type="password" class="form-control" formControlName="contrasena_nueva">
                <small *ngIf="contrasenaUsuarioNoValido" class="text-danger animated fadeIn">La contraseña es obligatoria, debe contener mínimo 8 caracteres. </small>
            </div>
        </div>
        <button [routerLink]="['/lotes']" class="btn btn-danger"> 
                <i class="fas fa-arrow-circle-left"></i> Cancelar 
            </button>
        <button type="submit" class="btn btn-success ml-2">
            Guardar cambios
        </button>
    </form>
    <hr>
</div>